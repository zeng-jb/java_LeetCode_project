package jainzhi;

public class J33 {

	public static void main(String[] args) {
		// TODO 自动生成的方法存根
		int [] postorder = {1,3,2,6,5};
		System.out.println(verifyPostorder(postorder));
	}

	public static boolean verifyPostorder(int[] postorder) {
		if(postorder.length <= 2) return true;
		return verify(postorder,0,postorder.length-1);
    }

	private static boolean verify(int[] postorder, int left, int right) {
		// TODO 自动生成的方法存根
		int rootValue = postorder[right];
		
		int k = left;
		while(k < right && postorder[k] < rootValue) {
			k++;
		}
		
		for(int i=k;i<right;i++) {
			if(postorder[i] < rootValue) return false;
		}
		
		if(!verify(postorder, left, k-1)) return false;
		if(!verify(postorder, k, right-1)) return false;
		
		
		return true;
	}
}
